let exports;

(async () => {
  let response = await fetch("./JIFxzHyW8W"),
    wasmModule = await WebAssembly.instantiate(await response.arrayBuffer()),
    instance = wasmModule.instance;
  exports = instance.exports;
})();

function onButtonPress() {
  let input = document.getElementById("input").value;

  for (let index = 0; index < input.length; index++) {
    exports.copy_char(input.charCodeAt(index), index);
  }

  exports.copy_char(0, input.length);

  exports.check_flag() == 1
    ? (document.getElementById("check_flag").innerHTML = "Correct!")
    : (document.getElementById("check_flag").innerHTML = "Incorrect!");
}
